"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/tickets/create-ticket";
exports.ids = ["pages/api/tickets/create-ticket"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "handlebars":
/*!*****************************!*\
  !*** external "handlebars" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("handlebars");

/***/ }),

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("nodemailer");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "(api)/./client/emails.js":
/*!**************************!*\
  !*** ./client/emails.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NewUserOnBoardEmail\": () => (/* binding */ NewUserOnBoardEmail),\n/* harmony export */   \"UserAssignedToProject\": () => (/* binding */ UserAssignedToProject),\n/* harmony export */   \"UserAssignedToTeam\": () => (/* binding */ UserAssignedToTeam),\n/* harmony export */   \"UserRevokedAccessEmail\": () => (/* binding */ UserRevokedAccessEmail)\n/* harmony export */ });\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"nodemailer\");\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(nodemailer__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var handlebars__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! handlebars */ \"handlebars\");\n/* harmony import */ var handlebars__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(handlebars__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nconst from = \"support@projectorate.org\";\nconst subjects = {\n    userOnBoard: \"Projectorate - Welcome to the Team\",\n    userRevokedAccess: \"Projectorate - Revoked acess to the system\",\n    UserAssignedToProject: \"Projectorate - Assigned to a project\",\n    UserAssignedToTeam: \"Projectorate - Assigned to a team\"\n};\n// let transporter = nodemailer.createTransport({\n//   service: \"gmail\",\n//   auth: {\n//     type: \"OAuth2\",\n//     user: process.env.MAIL_USERNAME,\n//     pass: process.env.MAIL_PASSWORD,\n//     clientId: process.env.OAUTH_CLIENTID,\n//     clientSecret: process.env.OAUTH_CLIENT_SECRET,\n//     refreshToken: process.env.OAUTH_REFRESH_TOKEN,\n//   },\n// });\nlet transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0___default().createTransport({\n    host: \"mail.privateemail.com\",\n    port: 587,\n    auth: {\n        user: \"support@projectorate.org\",\n        pass: process.env.EMAIL_PASS\n    }\n});\nconst NewUserOnBoardEmail = (reciever, username, password)=>{\n    try {\n        const __dirname = path__WEBPACK_IMPORTED_MODULE_3___default().resolve();\n        const filePath = path__WEBPACK_IMPORTED_MODULE_3___default().join(__dirname, \"/Templates/WelcomeToTeam.html\");\n        const source = fs__WEBPACK_IMPORTED_MODULE_2___default().readFileSync(filePath, \"utf-8\").toString();\n        const template = handlebars__WEBPACK_IMPORTED_MODULE_1___default().compile(source);\n        const replacements = {\n            username: username,\n            password: password\n        };\n        const htmlToSend = template(replacements);\n        transporter.sendMail({\n            from: from,\n            to: reciever,\n            subject: subjects.userOnBoard,\n            html: htmlToSend\n        }, function(err, data) {\n            if (err) {\n                console.log(\"Error \" + err);\n            } else {\n                console.log(\"Email sent successfully to the new user: \" + username);\n            }\n        });\n    } catch (error) {\n        console.log(\"Error while sending email: \" + error);\n    }\n};\nconst UserRevokedAccessEmail = (reciever, username)=>{\n    try {\n        const __dirname = path__WEBPACK_IMPORTED_MODULE_3___default().resolve();\n        const filePath = path__WEBPACK_IMPORTED_MODULE_3___default().join(__dirname, \"/Templates/UserRevokedAccess.html\");\n        const source = fs__WEBPACK_IMPORTED_MODULE_2___default().readFileSync(filePath, \"utf-8\").toString();\n        const template = handlebars__WEBPACK_IMPORTED_MODULE_1___default().compile(source);\n        const replacements = {\n            username: username\n        };\n        const htmlToSend = template(replacements);\n        transporter.sendMail({\n            from: from,\n            to: reciever,\n            subject: subjects.userRevokedAccess,\n            html: htmlToSend\n        }, function(err, data) {\n            if (err) {\n                console.log(\"Error \" + err);\n            } else {\n                console.log(\"Email sent successfully to the new user: \" + username);\n            }\n        });\n    } catch (error) {\n        console.log(\"Error while sending email: \" + error);\n    }\n};\nconst UserAssignedToProject = (reciever, username, projectName, projectDomain)=>{\n    try {\n        const __dirname = path__WEBPACK_IMPORTED_MODULE_3___default().resolve();\n        const filePath = path__WEBPACK_IMPORTED_MODULE_3___default().join(__dirname, \"/Templates/UserAssignedToProject.html\");\n        const source = fs__WEBPACK_IMPORTED_MODULE_2___default().readFileSync(filePath, \"utf-8\").toString();\n        const template = handlebars__WEBPACK_IMPORTED_MODULE_1___default().compile(source);\n        const replacements = {\n            username: username,\n            projectName: projectName,\n            projectDomain: projectDomain\n        };\n        const htmlToSend = template(replacements);\n        transporter.sendMail({\n            from: from,\n            to: reciever,\n            subject: subjects.UserAssignedToProject,\n            html: htmlToSend\n        }, function(err, data) {\n            if (err) {\n                console.log(\"Error \" + err);\n            } else {\n                console.log(\"Email sent successfully to the new user: \" + username);\n            }\n        });\n    } catch (error) {\n        console.log(\"Error while sending email: \" + error);\n    }\n};\nconst UserAssignedToTeam = (reciever, username, teamName, teamDomain, projectName)=>{\n    try {\n        const __dirname = path__WEBPACK_IMPORTED_MODULE_3___default().resolve();\n        const filePath = path__WEBPACK_IMPORTED_MODULE_3___default().join(__dirname, \"/Templates/UserAssignedToTeam.html\");\n        const source = fs__WEBPACK_IMPORTED_MODULE_2___default().readFileSync(filePath, \"utf-8\").toString();\n        const template = handlebars__WEBPACK_IMPORTED_MODULE_1___default().compile(source);\n        const replacements = {\n            username: username,\n            projectName: projectName,\n            teamDomain: teamDomain,\n            teamName: teamName\n        };\n        const htmlToSend = template(replacements);\n        transporter.sendMail({\n            from: from,\n            to: reciever,\n            subject: subjects.UserAssignedToTeam,\n            html: htmlToSend\n        }, function(err, data) {\n            if (err) {\n                console.log(\"Error \" + err);\n            } else {\n                console.log(\"Email sent successfully to the new user: \" + username);\n            }\n        });\n    } catch (error) {\n        console.log(\"Error while sending email: \" + error);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxNQUFNYixVQUFVLEdBQUdILFFBQVEsQ0FBQ0UsWUFBWSxDQUFDO1FBQ3pDdkIsV0FBVyxDQUFDeUIsUUFBUSxDQUNsQjtZQUNFL0IsSUFBSSxFQUFFQSxJQUFJO1lBQ1ZnQyxFQUFFLEVBQUVmLFFBQVE7WUFDWmdCLE9BQU8sRUFBRWhDLFFBQVEsQ0FBQ0ksa0JBQWtCO1lBQ3BDNkIsSUFBSSxFQUFFSixVQUFVO1NBQ2pCLEVBQ0QsU0FBVUssR0FBRyxFQUFFQyxJQUFJLEVBQUU7WUFDbkIsSUFBSUQsR0FBRyxFQUFFO2dCQUNQRSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLEdBQUdILEdBQUcsQ0FBQyxDQUFDO1lBQzlCLE9BQU87Z0JBQ0xFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDJDQUEyQyxHQUFHcEIsUUFBUSxDQUFDLENBQUM7WUFDdEUsQ0FBQztRQUNILENBQUMsQ0FDRixDQUFDO0lBQ0osRUFBRSxPQUFPcUIsS0FBSyxFQUFFO1FBQ2RGLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDZCQUE2QixHQUFHQyxLQUFLLENBQUMsQ0FBQztJQUNyRCxDQUFDO0FBQ0gsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdG9yYXRlLy4vY2xpZW50L2VtYWlscy5qcz83NWZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBub2RlbWFpbGVyIGZyb20gXCJub2RlbWFpbGVyXCI7XHJcbmltcG9ydCBIYW5kbGViYXJzIGZyb20gXCJoYW5kbGViYXJzXCI7XHJcbmltcG9ydCBmcyBmcm9tIFwiZnNcIjtcclxuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcclxuXHJcbmNvbnN0IGZyb20gPSBcInN1cHBvcnRAcHJvamVjdG9yYXRlLm9yZ1wiO1xyXG5jb25zdCBzdWJqZWN0cyA9IHtcclxuICB1c2VyT25Cb2FyZDogXCJQcm9qZWN0b3JhdGUgLSBXZWxjb21lIHRvIHRoZSBUZWFtXCIsXHJcbiAgdXNlclJldm9rZWRBY2Nlc3M6IFwiUHJvamVjdG9yYXRlIC0gUmV2b2tlZCBhY2VzcyB0byB0aGUgc3lzdGVtXCIsXHJcbiAgVXNlckFzc2lnbmVkVG9Qcm9qZWN0OiBcIlByb2plY3RvcmF0ZSAtIEFzc2lnbmVkIHRvIGEgcHJvamVjdFwiLFxyXG4gIFVzZXJBc3NpZ25lZFRvVGVhbTogXCJQcm9qZWN0b3JhdGUgLSBBc3NpZ25lZCB0byBhIHRlYW1cIixcclxufTtcclxuXHJcbi8vIGxldCB0cmFuc3BvcnRlciA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcclxuLy8gICBzZXJ2aWNlOiBcImdtYWlsXCIsXHJcbi8vICAgYXV0aDoge1xyXG4vLyAgICAgdHlwZTogXCJPQXV0aDJcIixcclxuLy8gICAgIHVzZXI6IHByb2Nlc3MuZW52Lk1BSUxfVVNFUk5BTUUsXHJcbi8vICAgICBwYXNzOiBwcm9jZXNzLmVudi5NQUlMX1BBU1NXT1JELFxyXG4vLyAgICAgY2xpZW50SWQ6IHByb2Nlc3MuZW52Lk9BVVRIX0NMSUVOVElELFxyXG4vLyAgICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5PQVVUSF9DTElFTlRfU0VDUkVULFxyXG4vLyAgICAgcmVmcmVzaFRva2VuOiBwcm9jZXNzLmVudi5PQVVUSF9SRUZSRVNIX1RPS0VOLFxyXG4vLyAgIH0sXHJcbi8vIH0pO1xyXG5cclxubGV0IHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoe1xyXG4gIGhvc3Q6IFwibWFpbC5wcml2YXRlZW1haWwuY29tXCIsXHJcbiAgcG9ydDogNTg3LFxyXG4gIGF1dGg6IHtcclxuICAgIHVzZXI6IFwic3VwcG9ydEBwcm9qZWN0b3JhdGUub3JnXCIsXHJcbiAgICBwYXNzOiBwcm9jZXNzLmVudi5FTUFJTF9QQVNTLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IE5ld1VzZXJPbkJvYXJkRW1haWwgPSAocmVjaWV2ZXIsIHVzZXJuYW1lLCBwYXNzd29yZCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBfX2Rpcm5hbWUgPSBwYXRoLnJlc29sdmUoKTtcclxuICAgIGNvbnN0IGZpbGVQYXRoID0gcGF0aC5qb2luKF9fZGlybmFtZSwgXCIvVGVtcGxhdGVzL1dlbGNvbWVUb1RlYW0uaHRtbFwiKTtcclxuICAgIGNvbnN0IHNvdXJjZSA9IGZzLnJlYWRGaWxlU3luYyhmaWxlUGF0aCwgXCJ1dGYtOFwiKS50b1N0cmluZygpO1xyXG4gICAgY29uc3QgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoc291cmNlKTtcclxuICAgIGNvbnN0IHJlcGxhY2VtZW50cyA9IHtcclxuICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxyXG4gICAgICBwYXNzd29yZDogcGFzc3dvcmQsXHJcbiAgICB9O1xyXG4gICAgY29uc3QgaHRtbFRvU2VuZCA9IHRlbXBsYXRlKHJlcGxhY2VtZW50cyk7XHJcbiAgICB0cmFuc3BvcnRlci5zZW5kTWFpbChcclxuICAgICAge1xyXG4gICAgICAgIGZyb206IGZyb20sXHJcbiAgICAgICAgdG86IHJlY2lldmVyLFxyXG4gICAgICAgIHN1YmplY3Q6IHN1YmplY3RzLnVzZXJPbkJvYXJkLFxyXG4gICAgICAgIGh0bWw6IGh0bWxUb1NlbmQsXHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcclxuICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yIFwiICsgZXJyKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJFbWFpbCBzZW50IHN1Y2Nlc3NmdWxseSB0byB0aGUgbmV3IHVzZXI6IFwiICsgdXNlcm5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5sb2coXCJFcnJvciB3aGlsZSBzZW5kaW5nIGVtYWlsOiBcIiArIGVycm9yKTtcclxuICB9XHJcbn07XHJcbmV4cG9ydCBjb25zdCBVc2VyUmV2b2tlZEFjY2Vzc0VtYWlsID0gKHJlY2lldmVyLCB1c2VybmFtZSkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBfX2Rpcm5hbWUgPSBwYXRoLnJlc29sdmUoKTtcclxuICAgIGNvbnN0IGZpbGVQYXRoID0gcGF0aC5qb2luKF9fZGlybmFtZSwgXCIvVGVtcGxhdGVzL1VzZXJSZXZva2VkQWNjZXNzLmh0bWxcIik7XHJcbiAgICBjb25zdCBzb3VyY2UgPSBmcy5yZWFkRmlsZVN5bmMoZmlsZVBhdGgsIFwidXRmLThcIikudG9TdHJpbmcoKTtcclxuICAgIGNvbnN0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKHNvdXJjZSk7XHJcbiAgICBjb25zdCByZXBsYWNlbWVudHMgPSB7XHJcbiAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcclxuICAgIH07XHJcbiAgICBjb25zdCBodG1sVG9TZW5kID0gdGVtcGxhdGUocmVwbGFjZW1lbnRzKTtcclxuICAgIHRyYW5zcG9ydGVyLnNlbmRNYWlsKFxyXG4gICAgICB7XHJcbiAgICAgICAgZnJvbTogZnJvbSxcclxuICAgICAgICB0bzogcmVjaWV2ZXIsXHJcbiAgICAgICAgc3ViamVjdDogc3ViamVjdHMudXNlclJldm9rZWRBY2Nlc3MsXHJcbiAgICAgICAgaHRtbDogaHRtbFRvU2VuZCxcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xyXG4gICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3IgXCIgKyBlcnIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkVtYWlsIHNlbnQgc3VjY2Vzc2Z1bGx5IHRvIHRoZSBuZXcgdXNlcjogXCIgKyB1c2VybmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkVycm9yIHdoaWxlIHNlbmRpbmcgZW1haWw6IFwiICsgZXJyb3IpO1xyXG4gIH1cclxufTtcclxuZXhwb3J0IGNvbnN0IFVzZXJBc3NpZ25lZFRvUHJvamVjdCA9IChcclxuICByZWNpZXZlcixcclxuICB1c2VybmFtZSxcclxuICBwcm9qZWN0TmFtZSxcclxuICBwcm9qZWN0RG9tYWluXHJcbikgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBfX2Rpcm5hbWUgPSBwYXRoLnJlc29sdmUoKTtcclxuICAgIGNvbnN0IGZpbGVQYXRoID0gcGF0aC5qb2luKFxyXG4gICAgICBfX2Rpcm5hbWUsXHJcbiAgICAgIFwiL1RlbXBsYXRlcy9Vc2VyQXNzaWduZWRUb1Byb2plY3QuaHRtbFwiXHJcbiAgICApO1xyXG4gICAgY29uc3Qgc291cmNlID0gZnMucmVhZEZpbGVTeW5jKGZpbGVQYXRoLCBcInV0Zi04XCIpLnRvU3RyaW5nKCk7XHJcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShzb3VyY2UpO1xyXG4gICAgY29uc3QgcmVwbGFjZW1lbnRzID0ge1xyXG4gICAgICB1c2VybmFtZTogdXNlcm5hbWUsXHJcbiAgICAgIHByb2plY3ROYW1lOiBwcm9qZWN0TmFtZSxcclxuICAgICAgcHJvamVjdERvbWFpbjogcHJvamVjdERvbWFpbixcclxuICAgIH07XHJcbiAgICBjb25zdCBodG1sVG9TZW5kID0gdGVtcGxhdGUocmVwbGFjZW1lbnRzKTtcclxuICAgIHRyYW5zcG9ydGVyLnNlbmRNYWlsKFxyXG4gICAgICB7XHJcbiAgICAgICAgZnJvbTogZnJvbSxcclxuICAgICAgICB0bzogcmVjaWV2ZXIsXHJcbiAgICAgICAgc3ViamVjdDogc3ViamVjdHMuVXNlckFzc2lnbmVkVG9Qcm9qZWN0LFxyXG4gICAgICAgIGh0bWw6IGh0bWxUb1NlbmQsXHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcclxuICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yIFwiICsgZXJyKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJFbWFpbCBzZW50IHN1Y2Nlc3NmdWxseSB0byB0aGUgbmV3IHVzZXI6IFwiICsgdXNlcm5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5sb2coXCJFcnJvciB3aGlsZSBzZW5kaW5nIGVtYWlsOiBcIiArIGVycm9yKTtcclxuICB9XHJcbn07XHJcbmV4cG9ydCBjb25zdCBVc2VyQXNzaWduZWRUb1RlYW0gPSAoXHJcbiAgcmVjaWV2ZXIsXHJcbiAgdXNlcm5hbWUsXHJcbiAgdGVhbU5hbWUsXHJcbiAgdGVhbURvbWFpbixcclxuICBwcm9qZWN0TmFtZVxyXG4pID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgX19kaXJuYW1lID0gcGF0aC5yZXNvbHZlKCk7XHJcbiAgICBjb25zdCBmaWxlUGF0aCA9IHBhdGguam9pbihfX2Rpcm5hbWUsIFwiL1RlbXBsYXRlcy9Vc2VyQXNzaWduZWRUb1RlYW0uaHRtbFwiKTtcclxuICAgIGNvbnN0IHNvdXJjZSA9IGZzLnJlYWRGaWxlU3luYyhmaWxlUGF0aCwgXCJ1dGYtOFwiKS50b1N0cmluZygpO1xyXG4gICAgY29uc3QgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoc291cmNlKTtcclxuICAgIGNvbnN0IHJlcGxhY2VtZW50cyA9IHtcclxuICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxyXG4gICAgICBwcm9qZWN0TmFtZTogcHJvamVjdE5hbWUsXHJcbiAgICAgIHRlYW1Eb21haW46IHRlYW1Eb21haW4sXHJcbiAgICAgIHRlYW1OYW1lOiB0ZWFtTmFtZSxcclxuICAgIH07XHJcbiAgICBjb25zdCBodG1sVG9TZW5kID0gdGVtcGxhdGUocmVwbGFjZW1lbnRzKTtcclxuICAgIHRyYW5zcG9ydGVyLnNlbmRNYWlsKFxyXG4gICAgICB7XHJcbiAgICAgICAgZnJvbTogZnJvbSxcclxuICAgICAgICB0bzogcmVjaWV2ZXIsXHJcbiAgICAgICAgc3ViamVjdDogc3ViamVjdHMuVXNlckFzc2lnbmVkVG9UZWFtLFxyXG4gICAgICAgIGh0bWw6IGh0bWxUb1NlbmQsXHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcclxuICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yIFwiICsgZXJyKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJFbWFpbCBzZW50IHN1Y2Nlc3NmdWxseSB0byB0aGUgbmV3IHVzZXI6IFwiICsgdXNlcm5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5sb2coXCJFcnJvciB3aGlsZSBzZW5kaW5nIGVtYWlsOiBcIiArIGVycm9yKTtcclxuICB9XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJub2RlbWFpbGVyIiwiSGFuZGxlYmFycyIsImZzIiwicGF0aCIsImZyb20iLCJzdWJqZWN0cyIsInVzZXJPbkJvYXJkIiwidXNlclJldm9rZWRBY2Nlc3MiLCJVc2VyQXNzaWduZWRUb1Byb2plY3QiLCJVc2VyQXNzaWduZWRUb1RlYW0iLCJ0cmFuc3BvcnRlciIsImNyZWF0ZVRyYW5zcG9ydCIsImhvc3QiLCJwb3J0IiwiYXV0aCIsInVzZXIiLCJwYXNzIiwicHJvY2VzcyIsImVudiIsIkVNQUlMX1BBU1MiLCJOZXdVc2VyT25Cb2FyZEVtYWlsIiwicmVjaWV2ZXIiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiX19kaXJuYW1lIiwicmVzb2x2ZSIsImZpbGVQYXRoIiwiam9pbiIsInNvdXJjZSIsInJlYWRGaWxlU3luYyIsInRvU3RyaW5nIiwidGVtcGxhdGUiLCJjb21waWxlIiwicmVwbGFjZW1lbnRzIiwiaHRtbFRvU2VuZCIsInNlbmRNYWlsIiwidG8iLCJzdWJqZWN0IiwiaHRtbCIsImVyciIsImRhdGEiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJVc2VyUmV2b2tlZEFjY2Vzc0VtYWlsIiwicHJvamVjdE5hbWUiLCJwcm9qZWN0RG9tYWluIiwidGVhbU5hbWUiLCJ0ZWFtRG9tYWluIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./client/emails.js\n");

/***/ }),

/***/ "(api)/./lib/prisma.js":
/*!***********************!*\
  !*** ./lib/prisma.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n// lib/prisma.ts\n\nlet PrismaDB;\nif (false) {} else {\n    if (!global.prisma) {\n        global.prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\n    }\n    PrismaDB = global.prisma;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PrismaDB);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvcHJpc21hLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLGdCQUFnQjtBQUNzQztBQUV0RCxJQUFJRSxRQUFRO0FBRVosSUFBSUMsS0FBcUMsRUFBRSxFQUUxQyxNQUFNO0lBQ0wsSUFBSSxDQUFDQyxNQUFNLENBQUNKLE1BQU0sRUFBRTtRQUNsQkksTUFBTSxDQUFDSixNQUFNLEdBQUcsSUFBSUMsd0RBQVksRUFBRSxDQUFDO0lBQ3JDLENBQUM7SUFDREMsUUFBUSxHQUFHRSxNQUFNLENBQUNKLE1BQU0sQ0FBQztBQUMzQixDQUFDO0FBRUQsaUVBQWVFLFFBQVEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3RvcmF0ZS8uL2xpYi9wcmlzbWEuanM/NzUxNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBsaWIvcHJpc21hLnRzXHJcbmltcG9ydCB7IHByaXNtYSwgUHJpc21hQ2xpZW50IH0gZnJvbSBcIkBwcmlzbWEvY2xpZW50XCI7XHJcblxyXG5sZXQgUHJpc21hREI7XHJcblxyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiKSB7XHJcbiAgUHJpc21hREIgPSBuZXcgUHJpc21hQ2xpZW50KCk7XHJcbn0gZWxzZSB7XHJcbiAgaWYgKCFnbG9iYWwucHJpc21hKSB7XHJcbiAgICBnbG9iYWwucHJpc21hID0gbmV3IFByaXNtYUNsaWVudCgpO1xyXG4gIH1cclxuICBQcmlzbWFEQiA9IGdsb2JhbC5wcmlzbWE7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFByaXNtYURCO1xyXG4iXSwibmFtZXMiOlsicHJpc21hIiwiUHJpc21hQ2xpZW50IiwiUHJpc21hREIiLCJwcm9jZXNzIiwiZ2xvYmFsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/prisma.js\n");

/***/ }),

/***/ "(api)/./pages/api/tickets/create-ticket.js":
/*!********************************************!*\
  !*** ./pages/api/tickets/create-ticket.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _client_emails__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../client/emails */ \"(api)/./client/emails.js\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/prisma */ \"(api)/./lib/prisma.js\");\n\n\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            message: \"Method not allowed\"\n        });\n    }\n    console.log(\"Create Ticket End-point hit!\");\n    const reqBody = req.body;\n    if (!reqBody.userId || !reqBody.teamId || !reqBody.employeeId || !reqBody.ticketStatusId || !reqBody.ticketPiorityId || !reqBody.title || !reqBody.description || !reqBody.deadline) {\n        return res.status(500).json({\n            error: 500,\n            message: \"Title, description, deadline, userId, TeamId, employeeId, ticketStatusId, ticketPiorityId are madatory!\"\n        });\n    }\n    const LogsOperations = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].LogsOperations.findMany({});\n    try {\n        const employee = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].employee.findUnique({\n            where: {\n                id: parseInt(reqBody.employeeId)\n            }\n        }).then((result)=>{\n            if (!result) {\n                res.status(404).json({\n                    error: 404,\n                    type: \"Employee\",\n                    message: \"Employee does not exist!\"\n                });\n            } else {\n                return result;\n            }\n        }).catch((err)=>{\n            console.log(err);\n        });\n        const team = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Teams.findUnique({\n            where: {\n                id: parseInt(reqBody.teamId)\n            }\n        }).then((result)=>{\n            if (!result) {\n                res.status(404).json({\n                    error: 404,\n                    type: \"Team\",\n                    message: \"Team does not exist!\"\n                });\n            } else {\n                return result;\n            }\n        }).catch((err)=>{\n            console.log(err);\n        });\n        // ** Check if user is in the team which the ticket is going to be related to */\n        // ** Please note that we are not checking for project relavence\n        // ** as it is understood that if the user is related to\n        // ** team then he/she will also be related to projec as well\n        let userTeam = null;\n        if (employee && team) {\n            userTeam = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].userTeams.findUnique({\n                where: {\n                    team_id_employee_id: {\n                        team_id: parseInt(team.id),\n                        employee_id: parseInt(employee.id)\n                    }\n                }\n            }).then((result)=>{\n                if (!result) {\n                    res.status(404).json({\n                        error: 404,\n                        type: \"Employee and Teams\",\n                        message: \"Employee must join this team where adding to the team!\"\n                    });\n                } else {\n                    return result;\n                }\n            }).catch((err)=>{\n                console.log(err);\n            });\n        }\n        //** If all above checks completes then create a ticket */\n        if (employee && team && userTeam) {\n            await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Tickets.create({\n                data: {\n                    title: reqBody.title,\n                    description: reqBody.description,\n                    deadline: reqBody.deadline,\n                    user: {\n                        connect: {\n                            id: parseInt(reqBody.userId)\n                        }\n                    },\n                    team: {\n                        connect: {\n                            id: parseInt(reqBody.teamId)\n                        }\n                    },\n                    project: {\n                        connect: {\n                            id: parseInt(team.projectId)\n                        }\n                    },\n                    employee: {\n                        connect: {\n                            id: parseInt(reqBody.employeeId)\n                        }\n                    },\n                    TicketStatus: {\n                        connect: {\n                            id: parseInt(reqBody.ticketStatusId)\n                        }\n                    },\n                    TicketPiority: {\n                        connect: {\n                            id: parseInt(reqBody.ticketPiorityId)\n                        }\n                    },\n                    Resource: {\n                        create: {\n                            url: reqBody.resource\n                        }\n                    }\n                },\n                include: {\n                    team: true,\n                    project: true,\n                    employee: true\n                }\n            }).then(async (result)=>{\n                if (!result) {\n                    res.status(500).json({\n                        error: 500,\n                        type: \"Ticket\",\n                        message: \"Error while creating ticket!\"\n                    });\n                } else {\n                    //** Record log */\n                    try {\n                        const response = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Logs.create({\n                            data: {\n                                operation: \"Created Ticket\",\n                                description: \"Created Ticket during the ticket creation phase\",\n                                team_name: result.team.team_name,\n                                project_name: result.project.project_name,\n                                employee_name: result.employee.first_name + \" \" + result.employee.last_name,\n                                ticket_name: result.title,\n                                user: {\n                                    connect: {\n                                        id: reqBody.userId\n                                    }\n                                },\n                                team: {\n                                    connect: {\n                                        id: result.team.id\n                                    }\n                                },\n                                project: {\n                                    connect: {\n                                        id: result.project.id\n                                    }\n                                },\n                                employee: {\n                                    connect: {\n                                        id: result.employee.id\n                                    }\n                                },\n                                ticket: {\n                                    connect: {\n                                        id: result.id\n                                    }\n                                },\n                                LogsOperations: {\n                                    connect: {\n                                        id: LogsOperations.find((t)=>t.title === \"Created Ticket\")?.id\n                                    }\n                                }\n                            }\n                        });\n                    } catch (error) {\n                        console.log(\"Error while creating log for tickets: \", error);\n                    }\n                    res.status(200).json({\n                        result\n                    });\n                }\n            }).catch((err)=>{\n                console.log(err);\n                res.status(500).json({\n                    error: err\n                });\n            });\n        }\n    } catch (error) {\n        console.log(\"Error while add new Create Ticket at backend: \", error);\n        return res.status(422).json({\n            error: \"Error while add new Create Ticket at backend: \" + error.message\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvdGlja2V0cy9jcmVhdGUtdGlja2V0LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUlnQztBQUNXO0FBRTVCLGVBQWVJLE9BQU8sQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEVBQUU7SUFDOUMsSUFBSUQsR0FBRyxDQUFDRSxNQUFNLEtBQUssTUFBTSxFQUFFO1FBQ3pCLE9BQU9ELEdBQUcsQ0FBQ0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFBRUMsT0FBTyxFQUFFLG9CQUFvQjtTQUFFLENBQUMsQ0FBQztJQUNqRSxDQUFDO0lBRURDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDhCQUE4QixDQUFDLENBQUM7SUFFNUMsTUFBTUMsT0FBTyxHQUFHUixHQUFHLENBQUNTLElBQUk7SUFDeEIsSUFDRSxDQUFDRCxPQUFPLENBQUNFLE1BQU0sSUFDZixDQUFDRixPQUFPLENBQUNHLE1BQU0sSUFDZixDQUFDSCxPQUFPLENBQUNJLFVBQVUsSUFDbkIsQ0FBQ0osT0FBTyxDQUFDSyxjQUFjLElBQ3ZCLENBQUNMLE9BQU8sQ0FBQ00sZUFBZSxJQUN4QixDQUFDTixPQUFPLENBQUNPLEtBQUssSUFDZCxDQUFDUCxPQUFPLENBQUNRLFdBQVcsSUFDcEIsQ0FBQ1IsT0FBTyxDQUFDUyxRQUFRLEVBQ2pCO1FBQ0EsT0FBT2hCLEdBQUcsQ0FBQ0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFDMUJjLEtBQUssRUFBRSxHQUFHO1lBQ1ZiLE9BQU8sRUFDTCx5R0FBeUc7U0FDNUcsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUNELE1BQU1jLGNBQWMsR0FBRyxNQUFNckIsMkVBQWdDLENBQUMsRUFBRSxDQUFDO0lBQ2pFLElBQUk7UUFDRixNQUFNdUIsUUFBUSxHQUFHLE1BQU12Qix1RUFDVixDQUFDO1lBQ1Z5QixLQUFLLEVBQUU7Z0JBQ0xDLEVBQUUsRUFBRUMsUUFBUSxDQUFDakIsT0FBTyxDQUFDSSxVQUFV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Q1BsQixFQUFFLEVBQUVMLGNBQWMsQ0FBQzBDLElBQUksQ0FDckIsQ0FBQ0MsQ0FBQyxHQUFLQSxDQUFDLENBQUMvQyxLQUFLLEtBQUssZ0JBQWdCLENBQ3BDLEVBQUVTLEVBQUU7cUNBQ047aUNBQ0Y7NkJBQ0Y7eUJBQ0YsQ0FBQztvQkFDSixFQUFFLE9BQU9OLEtBQUssRUFBRTt3QkFDZFosT0FBTyxDQUFDQyxHQUFHLENBQUMsd0NBQXdDLEVBQUVXLEtBQUssQ0FBQyxDQUFDO29CQUMvRCxDQUFDO29CQUNEakIsR0FBRyxDQUFDRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQzt3QkFBRXVCLE1BQU07cUJBQUUsQ0FBQyxDQUFDO2dCQUNuQyxDQUFDO1lBQ0gsQ0FBQyxDQUFDLENBQ0RFLEtBQUssQ0FBQyxDQUFDQyxHQUFHLEdBQUs7Z0JBQ2R4QixPQUFPLENBQUNDLEdBQUcsQ0FBQ3VCLEdBQUcsQ0FBQyxDQUFDO2dCQUNqQjdCLEdBQUcsQ0FBQ0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7b0JBQUVjLEtBQUssRUFBRVksR0FBRztpQkFBRSxDQUFDLENBQUM7WUFDdkMsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDO0lBQ0gsRUFBRSxPQUFPWixLQUFLLEVBQUU7UUFDZFosT0FBTyxDQUFDQyxHQUFHLENBQUMsZ0RBQWdELEVBQUVXLEtBQUssQ0FBQyxDQUFDO1FBQ3JFLE9BQU9qQixHQUFHLENBQUNFLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQzFCYyxLQUFLLEVBQUUsZ0RBQWdELEdBQUdBLEtBQUssQ0FBQ2IsT0FBTztTQUN4RSxDQUFDLENBQUM7SUFDTCxDQUFDO0FBQ0gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3RvcmF0ZS8uL3BhZ2VzL2FwaS90aWNrZXRzL2NyZWF0ZS10aWNrZXQuanM/YTIwZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIENyZWF0ZVRpY2tldFNlbmRFbWFpbCxcclxuICBOZXdVc2VyT25Cb2FyZEVtYWlsLFxyXG4gIHNlbmRNYWlsVG9Vc2VyLFxyXG59IGZyb20gXCIuLi8uLi8uLi9jbGllbnQvZW1haWxzXCI7XHJcbmltcG9ydCBQcmlzbWFEQiBmcm9tIFwiLi4vLi4vLi4vbGliL3ByaXNtYVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4gIGlmIChyZXEubWV0aG9kICE9PSBcIlBPU1RcIikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgbWVzc2FnZTogXCJNZXRob2Qgbm90IGFsbG93ZWRcIiB9KTtcclxuICB9XHJcblxyXG4gIGNvbnNvbGUubG9nKFwiQ3JlYXRlIFRpY2tldCBFbmQtcG9pbnQgaGl0IVwiKTtcclxuXHJcbiAgY29uc3QgcmVxQm9keSA9IHJlcS5ib2R5O1xyXG4gIGlmIChcclxuICAgICFyZXFCb2R5LnVzZXJJZCB8fFxyXG4gICAgIXJlcUJvZHkudGVhbUlkIHx8XHJcbiAgICAhcmVxQm9keS5lbXBsb3llZUlkIHx8XHJcbiAgICAhcmVxQm9keS50aWNrZXRTdGF0dXNJZCB8fFxyXG4gICAgIXJlcUJvZHkudGlja2V0UGlvcml0eUlkIHx8XHJcbiAgICAhcmVxQm9keS50aXRsZSB8fFxyXG4gICAgIXJlcUJvZHkuZGVzY3JpcHRpb24gfHxcclxuICAgICFyZXFCb2R5LmRlYWRsaW5lXHJcbiAgKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBlcnJvcjogNTAwLFxyXG4gICAgICBtZXNzYWdlOlxyXG4gICAgICAgIFwiVGl0bGUsIGRlc2NyaXB0aW9uLCBkZWFkbGluZSwgdXNlcklkLCBUZWFtSWQsIGVtcGxveWVlSWQsIHRpY2tldFN0YXR1c0lkLCB0aWNrZXRQaW9yaXR5SWQgYXJlIG1hZGF0b3J5IVwiLFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGNvbnN0IExvZ3NPcGVyYXRpb25zID0gYXdhaXQgUHJpc21hREIuTG9nc09wZXJhdGlvbnMuZmluZE1hbnkoe30pO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBlbXBsb3llZSA9IGF3YWl0IFByaXNtYURCLmVtcGxveWVlXHJcbiAgICAgIC5maW5kVW5pcXVlKHtcclxuICAgICAgICB3aGVyZToge1xyXG4gICAgICAgICAgaWQ6IHBhcnNlSW50KHJlcUJvZHkuZW1wbG95ZWVJZCksXHJcbiAgICAgICAgfSxcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGlmICghcmVzdWx0KSB7XHJcbiAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgICAgIGVycm9yOiA0MDQsXHJcbiAgICAgICAgICAgIHR5cGU6IFwiRW1wbG95ZWVcIixcclxuICAgICAgICAgICAgbWVzc2FnZTogXCJFbXBsb3llZSBkb2VzIG5vdCBleGlzdCFcIixcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB9KTtcclxuICAgIGNvbnN0IHRlYW0gPSBhd2FpdCBQcmlzbWFEQi5UZWFtcy5maW5kVW5pcXVlKHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICBpZDogcGFyc2VJbnQocmVxQm9keS50ZWFtSWQpLFxyXG4gICAgICB9LFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGlmICghcmVzdWx0KSB7XHJcbiAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgICAgIGVycm9yOiA0MDQsXHJcbiAgICAgICAgICAgIHR5cGU6IFwiVGVhbVwiLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBcIlRlYW0gZG9lcyBub3QgZXhpc3QhXCIsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgLy8gKiogQ2hlY2sgaWYgdXNlciBpcyBpbiB0aGUgdGVhbSB3aGljaCB0aGUgdGlja2V0IGlzIGdvaW5nIHRvIGJlIHJlbGF0ZWQgdG8gKi9cclxuICAgIC8vICoqIFBsZWFzZSBub3RlIHRoYXQgd2UgYXJlIG5vdCBjaGVja2luZyBmb3IgcHJvamVjdCByZWxhdmVuY2VcclxuICAgIC8vICoqIGFzIGl0IGlzIHVuZGVyc3Rvb2QgdGhhdCBpZiB0aGUgdXNlciBpcyByZWxhdGVkIHRvXHJcbiAgICAvLyAqKiB0ZWFtIHRoZW4gaGUvc2hlIHdpbGwgYWxzbyBiZSByZWxhdGVkIHRvIHByb2plYyBhcyB3ZWxsXHJcblxyXG4gICAgbGV0IHVzZXJUZWFtID0gbnVsbDtcclxuXHJcbiAgICBpZiAoZW1wbG95ZWUgJiYgdGVhbSkge1xyXG4gICAgICB1c2VyVGVhbSA9IGF3YWl0IFByaXNtYURCLnVzZXJUZWFtc1xyXG4gICAgICAgIC5maW5kVW5pcXVlKHtcclxuICAgICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICAgIHRlYW1faWRfZW1wbG95ZWVfaWQ6IHtcclxuICAgICAgICAgICAgICB0ZWFtX2lkOiBwYXJzZUludCh0ZWFtLmlkKSxcclxuICAgICAgICAgICAgICBlbXBsb3llZV9pZDogcGFyc2VJbnQoZW1wbG95ZWUuaWQpLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgIGlmICghcmVzdWx0KSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcclxuICAgICAgICAgICAgICBlcnJvcjogNDA0LFxyXG4gICAgICAgICAgICAgIHR5cGU6IFwiRW1wbG95ZWUgYW5kIFRlYW1zXCIsXHJcbiAgICAgICAgICAgICAgbWVzc2FnZTogXCJFbXBsb3llZSBtdXN0IGpvaW4gdGhpcyB0ZWFtIHdoZXJlIGFkZGluZyB0byB0aGUgdGVhbSFcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8qKiBJZiBhbGwgYWJvdmUgY2hlY2tzIGNvbXBsZXRlcyB0aGVuIGNyZWF0ZSBhIHRpY2tldCAqL1xyXG5cclxuICAgIGlmIChlbXBsb3llZSAmJiB0ZWFtICYmIHVzZXJUZWFtKSB7XHJcbiAgICAgIGF3YWl0IFByaXNtYURCLlRpY2tldHMuY3JlYXRlKHtcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICB0aXRsZTogcmVxQm9keS50aXRsZSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXFCb2R5LmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgZGVhZGxpbmU6IHJlcUJvZHkuZGVhZGxpbmUsXHJcbiAgICAgICAgICB1c2VyOiB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Q6IHtcclxuICAgICAgICAgICAgICBpZDogcGFyc2VJbnQocmVxQm9keS51c2VySWQpLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHRlYW06IHtcclxuICAgICAgICAgICAgY29ubmVjdDoge1xyXG4gICAgICAgICAgICAgIGlkOiBwYXJzZUludChyZXFCb2R5LnRlYW1JZCksXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcHJvamVjdDoge1xyXG4gICAgICAgICAgICBjb25uZWN0OiB7XHJcbiAgICAgICAgICAgICAgaWQ6IHBhcnNlSW50KHRlYW0ucHJvamVjdElkKSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBlbXBsb3llZToge1xyXG4gICAgICAgICAgICBjb25uZWN0OiB7XHJcbiAgICAgICAgICAgICAgaWQ6IHBhcnNlSW50KHJlcUJvZHkuZW1wbG95ZWVJZCksXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgVGlja2V0U3RhdHVzOiB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Q6IHtcclxuICAgICAgICAgICAgICBpZDogcGFyc2VJbnQocmVxQm9keS50aWNrZXRTdGF0dXNJZCksXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgVGlja2V0UGlvcml0eToge1xyXG4gICAgICAgICAgICBjb25uZWN0OiB7XHJcbiAgICAgICAgICAgICAgaWQ6IHBhcnNlSW50KHJlcUJvZHkudGlja2V0UGlvcml0eUlkKSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBSZXNvdXJjZToge1xyXG4gICAgICAgICAgICBjcmVhdGU6IHtcclxuICAgICAgICAgICAgICB1cmw6IHJlcUJvZHkucmVzb3VyY2UsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaW5jbHVkZToge1xyXG4gICAgICAgICAgdGVhbTogdHJ1ZSxcclxuICAgICAgICAgIHByb2plY3Q6IHRydWUsXHJcbiAgICAgICAgICBlbXBsb3llZTogdHJ1ZSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KVxyXG4gICAgICAgIC50aGVuKGFzeW5jIChyZXN1bHQpID0+IHtcclxuICAgICAgICAgIGlmICghcmVzdWx0KSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICAgICAgICBlcnJvcjogNTAwLFxyXG4gICAgICAgICAgICAgIHR5cGU6IFwiVGlja2V0XCIsXHJcbiAgICAgICAgICAgICAgbWVzc2FnZTogXCJFcnJvciB3aGlsZSBjcmVhdGluZyB0aWNrZXQhXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8qKiBSZWNvcmQgbG9nICovXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQcmlzbWFEQi5Mb2dzLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogXCJDcmVhdGVkIFRpY2tldFwiLFxyXG4gICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAgICAgICAgICAgICBcIkNyZWF0ZWQgVGlja2V0IGR1cmluZyB0aGUgdGlja2V0IGNyZWF0aW9uIHBoYXNlXCIsXHJcbiAgICAgICAgICAgICAgICAgIHRlYW1fbmFtZTogcmVzdWx0LnRlYW0udGVhbV9uYW1lLFxyXG4gICAgICAgICAgICAgICAgICBwcm9qZWN0X25hbWU6IHJlc3VsdC5wcm9qZWN0LnByb2plY3RfbmFtZSxcclxuICAgICAgICAgICAgICAgICAgZW1wbG95ZWVfbmFtZTpcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuZW1wbG95ZWUuZmlyc3RfbmFtZSArXHJcbiAgICAgICAgICAgICAgICAgICAgXCIgXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5lbXBsb3llZS5sYXN0X25hbWUsXHJcbiAgICAgICAgICAgICAgICAgIHRpY2tldF9uYW1lOiByZXN1bHQudGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgIHVzZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25uZWN0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZDogcmVxQm9keS51c2VySWQsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgdGVhbToge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Q6IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGlkOiByZXN1bHQudGVhbS5pZCxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICBwcm9qZWN0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWQ6IHJlc3VsdC5wcm9qZWN0LmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgIGVtcGxveWVlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWQ6IHJlc3VsdC5lbXBsb3llZS5pZCxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICB0aWNrZXQ6IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25uZWN0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZDogcmVzdWx0LmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgIExvZ3NPcGVyYXRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWQ6IExvZ3NPcGVyYXRpb25zLmZpbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICh0KSA9PiB0LnRpdGxlID09PSBcIkNyZWF0ZWQgVGlja2V0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICk/LmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3Igd2hpbGUgY3JlYXRpbmcgbG9nIGZvciB0aWNrZXRzOiBcIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgcmVzdWx0IH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlcnIgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiRXJyb3Igd2hpbGUgYWRkIG5ldyBDcmVhdGUgVGlja2V0IGF0IGJhY2tlbmQ6IFwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MjIpLmpzb24oe1xyXG4gICAgICBlcnJvcjogXCJFcnJvciB3aGlsZSBhZGQgbmV3IENyZWF0ZSBUaWNrZXQgYXQgYmFja2VuZDogXCIgKyBlcnJvci5tZXNzYWdlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJDcmVhdGVUaWNrZXRTZW5kRW1haWwiLCJOZXdVc2VyT25Cb2FyZEVtYWlsIiwic2VuZE1haWxUb1VzZXIiLCJQcmlzbWFEQiIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJyZXFCb2R5IiwiYm9keSIsInVzZXJJZCIsInRlYW1JZCIsImVtcGxveWVlSWQiLCJ0aWNrZXRTdGF0dXNJZCIsInRpY2tldFBpb3JpdHlJZCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJkZWFkbGluZSIsImVycm9yIiwiTG9nc09wZXJhdGlvbnMiLCJmaW5kTWFueSIsImVtcGxveWVlIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiaWQiLCJwYXJzZUludCIsInRoZW4iLCJyZXN1bHQiLCJ0eXBlIiwiY2F0Y2giLCJlcnIiLCJ0ZWFtIiwiVGVhbXMiLCJ1c2VyVGVhbSIsInVzZXJUZWFtcyIsInRlYW1faWRfZW1wbG95ZWVfaWQiLCJ0ZWFtX2lkIiwiZW1wbG95ZWVfaWQiLCJUaWNrZXRzIiwiY3JlYXRlIiwiZGF0YSIsInVzZXIiLCJjb25uZWN0IiwicHJvamVjdCIsInByb2plY3RJZCIsIlRpY2tldFN0YXR1cyIsIlRpY2tldFBpb3JpdHkiLCJSZXNvdXJjZSIsInVybCIsInJlc291cmNlIiwiaW5jbHVkZSIsInJlc3BvbnNlIiwiTG9ncyIsIm9wZXJhdGlvbiIsInRlYW1fbmFtZSIsInByb2plY3RfbmFtZSIsImVtcGxveWVlX25hbWUiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwidGlja2V0X25hbWUiLCJ0aWNrZXQiLCJmaW5kIiwidCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/tickets/create-ticket.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/tickets/create-ticket.js"));
module.exports = __webpack_exports__;

})();