(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[473],{8020:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth",function(){return t(7704)}])},7704:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return C}});var a=t(7568),n=t(6042),r=t(9396),i=t(655),o=t(5893),l=t(7294),c=t(3299),d=t(5675),m=t.n(d),u=t(1163),h=t(603),p=t(9352),x=t(8193),y=t(442),f=t(2831),j=t(9004),g=t(1649),b=t(1613);function v(e){var s=e.setIsClicked,t=e.setEmail,a=e.setPassword,n=e.loading,r=e.errorMessage,i=function(){N.setFieldsValue({password:"as$52dk*l223",email:"team_lead@projectorate.org"}),w({placement:"topRight",message:"Added dummy project manager credentials!",description:"",type:"sucess"})},c=function(){N.setFieldsValue({password:"@!2jdis34_we",email:"team_member@projectorate.org"}),w({placement:"topRight",message:"Added dummy team member credentials!",description:"",type:"sucess"})},d=(0,l.useState)("h-12 bg-gray-700 rounded-sm px-3 "),m=d[0],u=d[1],v=(0,b.y)(),w=(v.notifications,v.setNotifications),N=(0,h.Z)(y.Z.useForm(),1)[0],k=function(e){s(!0),t(e.email),a(e.password)};(0,l.useEffect)(function(){r?u(m+"border-red-500 border-2"):u("h-12 bg-gray-700 rounded-sm px-3 ")},[r]);var C=(0,l.useState)(!1),_=C[0],E=C[1],P=function(){E(!0)},T=function(){E(!1)},Z=function(){E(!1)},I=(0,l.useState)(!1),S=I[0],F=I[1],z=function(){F(!0)},M=function(){F(!1)},L=function(){F(!1)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"bg-gray-900 rounded-md shadow-xl m-2 p-4 md:p-9 border-black flex flex-col justify-center items-center",style:{height:"38rem"},children:(0,o.jsxs)("div",{className:"Input-container flex flex-col justify-center items-center",children:[(0,o.jsxs)("div",{className:"flex flex-col justify-center items-center mb-4",children:[(0,o.jsx)("h1",{className:"text-4xl font-demo",children:"Login"}),(0,o.jsx)("p",{className:"pt-2 opacity-60 text-sm w-88 text-center",children:"Please enter your credentials! If you do not have access to the system please use the following dummy credentials"})]}),(0,o.jsx)("div",{className:"dummy-credentials mb-2 py-3 px-3 rounded-md border-[1.5px] border-gray-500 bg-gray-700 w-full opacity-70 hover:opacity-100 transition-all",children:(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(x.vM4,{size:18}),(0,o.jsxs)("p",{className:"text-[12px] ml-1",children:[(0,o.jsx)("span",{className:"text-blue-400 font-bold cursor-pointer",onClick:function(){return i()},children:"Team Lead"})," ","dummy credentials"]})]}),(0,o.jsx)("div",{className:"rounded-full cursor-pointer",onClick:P,children:(0,o.jsx)(g.nj5,{size:20})})]})}),(0,o.jsx)("div",{className:"dummy-credentials mb-2 py-3 px-3 rounded-md border-[1.5px] border-gray-500 bg-gray-700 w-full opacity-70 hover:opacity-100 transition-all",children:(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(x.vM4,{size:18}),(0,o.jsxs)("p",{className:"text-[12px] ml-1",children:[(0,o.jsx)("span",{className:"text-blue-400 font-bold cursor-pointer",onClick:function(){return c()},children:"Team Member"})," ","dummy credentials"]})]}),(0,o.jsx)("div",{className:"rounded-full cursor-pointer",onClick:z,children:(0,o.jsx)(g.nj5,{size:20})})]})}),(0,o.jsxs)(y.Z,{form:N,name:"signin",onFinish:k,style:{width:"100%"},initialValues:{email:"",password:""},scrollToFirstError:!0,disabled:n,layout:"vertical",children:[(0,o.jsx)(y.Z.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"},{whitespace:!0,message:"Must be atleast one non-space character!"},],children:(0,o.jsx)(f.Z,{placeholder:"Enter your email"})}),(0,o.jsx)(y.Z.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"},{min:8,message:"Password must be 8 characters long!"},],hasFeedback:!0,children:(0,o.jsx)(f.Z.Password,{placeholder:"Enter your password"})}),r?(0,o.jsxs)("div",{className:"error-message flex flex-row items-center",children:[(0,o.jsx)("div",{className:"error-icon mr-2",children:(0,o.jsx)(p.j6O,{size:28,className:"text-red-500"})}),(0,o.jsx)("p",{className:"text-red-500 text-md",children:r})]}):"",(0,o.jsxs)("div",{className:"submission-section flex flex-col mt-5",children:[(0,o.jsxs)("p",{className:"text-xs text-center mb-3 opacity-60",children:["By logging in you are agreeing to the company user",(0,o.jsx)("br",{})," terms and conditions"]}),(0,o.jsx)("button",{className:n?"bg-secondry px-5 py-3 rounded-sm opacity-60":"bg-secondry px-5 py-3 rounded-sm",type:"submit",disabled:n,children:"LOGIN"})]})]})]})}),(0,o.jsx)(j.Z,{title:"Team Lead Credentials",open:_,onOk:T,onCancel:Z,footer:null,children:(0,o.jsxs)("div",{className:"credentials-model-content",children:[(0,o.jsx)("p",{className:"text-sm opacity-80",children:"Use this option to use the team lead credential to login to system. These credentials are generated, as projectorate is controlled by a stakeholder and does not have any public access to the system. Hence users can use these credentials to access the system. These credentials are only meant for demonstration of the system, and they may get revoked at anytime."}),(0,o.jsx)("h1",{className:"mt-3 font-semibold text-sm",children:"What this credentials have access to?"}),(0,o.jsx)("p",{className:"text-sm opacity-80",children:"The team lead have the following features restriction/access to the system:"}),(0,o.jsxs)("ol",{className:"list-decimal list-inside opacity-80",children:[(0,o.jsx)("li",{children:"Can not manage employees"}),(0,o.jsx)("li",{children:"Can not view system logs"}),(0,o.jsx)("li",{children:"Can not manage projects"}),(0,o.jsx)("li",{children:"Can manage teams"}),(0,o.jsx)("li",{children:"Can open tickets and assign them to employees"}),(0,o.jsx)("li",{children:"Can share resources or submit work"}),(0,o.jsx)("li",{children:"Can interact with tickets board"})]}),(0,o.jsxs)("p",{className:"mt-3 text-sm",children:[(0,o.jsx)("b",{children:"Note:"})," If you want to have uppar level access to the system for demonstration kindly contact adminstration of the system"]})]})}),(0,o.jsx)(j.Z,{title:"Team Member Credentials",open:S,onOk:M,onCancel:L,footer:null,children:(0,o.jsxs)("div",{className:"credentials-model-content",children:[(0,o.jsx)("p",{className:"text-sm opacity-80",children:"Use this option to use the team member credential to login to system. These credentials are generated, as projectorate is controlled by a stakeholder and does not have any public access to the system. Hence users can use these credentials to access the system. These credentials are only meant for demonstration of the system, and they may get revoked at anytime."}),(0,o.jsx)("h1",{className:"mt-3 font-semibold text-sm",children:"What this credentials have access to?"}),(0,o.jsx)("p",{className:"text-sm opacity-80",children:"The team member have the following features restriction/access to the system:"}),(0,o.jsxs)("ol",{className:"list-decimal list-inside opacity-80",children:[(0,o.jsx)("li",{children:"Can not manage employees"}),(0,o.jsx)("li",{children:"Can not view system logs"}),(0,o.jsx)("li",{children:"Can not manage projects"}),(0,o.jsx)("li",{children:"Can not manage teams"}),(0,o.jsx)("li",{children:"Can not open tickets or assign them to employees"}),(0,o.jsx)("li",{children:"Can not share resources but can submit work"}),(0,o.jsx)("li",{children:"Can interact with tickets board"})]}),(0,o.jsxs)("p",{className:"mt-3 text-sm",children:[(0,o.jsx)("b",{children:"Note:"})," If you want to have uppar level access to the system for demonstration kindly contact adminstration of the system"]})]})})]})}var w={src:"/_next/static/media/login_bg_image.adb8dd01.svg",height:400,width:600},N=t(3838),k=t(5266);function C(){var e,s=(0,l.useState)(!1),t=s[0],d=s[1],h=(0,l.useState)(null),p=h[0],x=h[1],y=(0,l.useState)(null),f=y[0],j=y[1],g=(0,l.useState)(!1),C=g[0],_=g[1],E=(0,l.useState)(null),P=E[0],T=E[1],Z=(0,l.useState)(null),I=Z[0],S=Z[1],F=(0,u.useRouter)(),z=(0,b.y)(),M=(z.notifications,z.setNotifications),L=(0,c.useSession)(),O=(L.data,L.status);(0,l.useEffect)(function(){"authenticated"==O&&(M({placement:"bottomRight",message:"You are already logged in!",description:"",type:"warning"}),F.replace("/app"))},[O]);var R,Y=(e=(0,a.Z)(function(){var e;return(0,i.__generator)(this,function(s){switch(s.label){case 0:return _(!0),T(null),e={email:p,password:f},[4,(0,c.signIn)("credentials",(0,r.Z)((0,n.Z)({},e),{redirect:!1}))];case 1:return S.apply(void 0,[s.sent()]),[2]}})}),function(){return e.apply(this,arguments)}),V=(R=(0,a.Z)(function(){var e;return(0,i.__generator)(this,function(s){switch(s.label){case 0:return[4,(0,c.getSession)()];case 1:return e=s.sent(),console.log(I),console.log({session:e}),[2]}})}),function(){return R.apply(this,arguments)});return(0,l.useEffect)(function(){console.log(I),I&&(I.error?(_(!1),T("Email or Password Incorrect"==I.error?"Email or Password Incorrect":"Your credentials has been revoked"==I.error?"Your credentials has been revoked":"Some error occoured!"),M({placement:"bottomRight",message:"Login Failed",description:"Please type in correct credentials before you try to login!",type:"error"})):(M({placement:"bottomRight",message:"Login sucess",description:"You have been logged in to the Projectorate!!!",type:"sucess"}),F.replace("/app")),V())},[I]),(0,l.useEffect)(function(){t&&(Y(),d(!1))},[t]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(k.le,{}),(0,o.jsxs)("div",{className:"h-screen bg-primary",children:[(0,o.jsx)("div",{className:"secondry-section h-screen w-screen absolute z-0",children:(0,o.jsx)("div",{className:"absolute bottom-0 h-full w-full mx-[-15vw]",children:(0,o.jsx)(m(),{src:w,alt:"Projectorate welcome image",layout:"fill",objectFit:"contain"})})}),(0,o.jsx)("div",{className:"primary-section w-full h-full z-1 absolute flex justify-end items-center lg:pr-40 md:pr-20 sm:10 ",children:(0,o.jsx)(N.E.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.2},children:(0,o.jsx)(v,{setIsClicked:d,setEmail:x,setPassword:j,loading:C,errorMessage:P})})})]})]})}}},function(e){e.O(0,[842,838,675,186,774,888,179],function(){return e(e.s=8020)}),_N_E=e.O()}]);