(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[473],{8020:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth",function(){return t(7704)}])},7704:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return N}});var a=t(7568),n=t(6042),i=t(9396),r=t(655),o=t(5893),l=t(7294),c=t(3299),d=t(5675),m=t.n(d),h=t(1163),u=t(603),x=t(9352),p=t(442),f=t(2831),y=t(9004),g=t(1613);function j(e){var s=e.setIsClicked,t=e.setEmail,a=e.setPassword,n=e.loading,i=e.errorMessage,r=(0,l.useState)("h-12 bg-gray-700 rounded-sm px-3 "),c=r[0],d=r[1],m=(0,g.y)();m.notifications,m.setNotifications;var h=(0,u.Z)(p.Z.useForm(),1)[0],j=function(e){s(!0),t(e.email),a(e.password)};(0,l.useEffect)(function(){i?d(c+"border-red-500 border-2"):d("h-12 bg-gray-700 rounded-sm px-3 ")},[i]);var b=(0,l.useState)(!1),w=b[0],v=b[1],N=function(){v(!1)},k=function(){v(!1)},C=(0,l.useState)(!1),E=C[0],_=C[1],P=function(){_(!1)},Z=function(){_(!1)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"bg-gray-900 rounded-md shadow-xl mx-2 p-4 md:p-9 border-black flex flex-col justify-center items-center sm:w-96 w-full",style:{minHeight:"32rem",maxHeight:"38rem"},children:(0,o.jsxs)("div",{className:"Input-container w-full flex flex-col justify-center items-center",children:[(0,o.jsxs)("div",{className:"flex w-full flex-col justify-center items-center mb-4",children:[(0,o.jsx)("h1",{className:"text-4xl font-demo",children:"Login"}),(0,o.jsx)("p",{className:"pt-2 opacity-60 text-xs sm:text-sm sm:w-88 w-full text-center",children:"Please enter your credentials! If you do not have access to the system please contact the adminstration of the system"})]}),(0,o.jsxs)(p.Z,{form:h,name:"signin",onFinish:j,style:{width:"100%"},initialValues:{email:"",password:""},scrollToFirstError:!0,disabled:n,layout:"vertical",children:[(0,o.jsx)(p.Z.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"},{whitespace:!0,message:"Must be atleast one non-space character!"},],children:(0,o.jsx)(f.Z,{placeholder:"Enter your email"})}),(0,o.jsx)(p.Z.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"},{min:8,message:"Password must be 8 characters long!"},],hasFeedback:!0,children:(0,o.jsx)(f.Z.Password,{placeholder:"Enter your password"})}),i?(0,o.jsxs)("div",{className:"error-message flex flex-row items-center",children:[(0,o.jsx)("div",{className:"error-icon mr-2",children:(0,o.jsx)(x.j6O,{size:28,className:"text-red-500"})}),(0,o.jsx)("p",{className:"text-red-500 text-md",children:i})]}):"",(0,o.jsxs)("div",{className:"submission-section flex flex-col mt-5 justify-center items-center",children:[(0,o.jsx)("p",{className:"text-xs text-center mb-3 opacity-60 sm:w-64",children:"By logging in you are agreeing to the company user terms and conditions"}),(0,o.jsx)("button",{className:n?"bg-secondry px-5 py-3 rounded-sm opacity-60 w-full":"bg-secondry px-5 py-3 rounded-sm w-full",type:"submit",disabled:n,children:"LOGIN"})]})]})]})}),(0,o.jsx)(y.Z,{title:"Team Lead Credentials",open:w,onOk:N,onCancel:k,footer:null,children:(0,o.jsxs)("div",{className:"credentials-model-content",children:[(0,o.jsx)("p",{className:"text-sm opacity-80",children:"Use this option to use the team lead credential to login to system. These credentials are generated, as projectorate is controlled by a stakeholder and does not have any public access to the system. Hence users can use these credentials to access the system. These credentials are only meant for demonstration of the system, and they may get revoked at anytime."}),(0,o.jsx)("h1",{className:"mt-3 font-semibold text-sm",children:"What this credentials have access to?"}),(0,o.jsx)("p",{className:"text-sm opacity-80",children:"The team lead have the following features restriction/access to the system:"}),(0,o.jsxs)("ol",{className:"list-decimal list-inside opacity-80",children:[(0,o.jsx)("li",{children:"Can not manage employees"}),(0,o.jsx)("li",{children:"Can not view system logs"}),(0,o.jsx)("li",{children:"Can not manage projects"}),(0,o.jsx)("li",{children:"Can manage teams"}),(0,o.jsx)("li",{children:"Can open tickets and assign them to employees"}),(0,o.jsx)("li",{children:"Can share resources or submit work"}),(0,o.jsx)("li",{children:"Can interact with tickets board"})]}),(0,o.jsxs)("p",{className:"mt-3 text-sm",children:[(0,o.jsx)("b",{children:"Note:"})," If you want to have uppar level access to the system for demonstration kindly contact adminstration of the system"]})]})}),(0,o.jsx)(y.Z,{title:"Team Member Credentials",open:E,onOk:P,onCancel:Z,footer:null,children:(0,o.jsxs)("div",{className:"credentials-model-content",children:[(0,o.jsx)("p",{className:"text-sm opacity-80",children:"Use this option to use the team member credential to login to system. These credentials are generated, as projectorate is controlled by a stakeholder and does not have any public access to the system. Hence users can use these credentials to access the system. These credentials are only meant for demonstration of the system, and they may get revoked at anytime."}),(0,o.jsx)("h1",{className:"mt-3 font-semibold text-sm",children:"What this credentials have access to?"}),(0,o.jsx)("p",{className:"text-sm opacity-80",children:"The team member have the following features restriction/access to the system:"}),(0,o.jsxs)("ol",{className:"list-decimal list-inside opacity-80",children:[(0,o.jsx)("li",{children:"Can not manage employees"}),(0,o.jsx)("li",{children:"Can not view system logs"}),(0,o.jsx)("li",{children:"Can not manage projects"}),(0,o.jsx)("li",{children:"Can not manage teams"}),(0,o.jsx)("li",{children:"Can not open tickets or assign them to employees"}),(0,o.jsx)("li",{children:"Can not share resources but can submit work"}),(0,o.jsx)("li",{children:"Can interact with tickets board"})]}),(0,o.jsxs)("p",{className:"mt-3 text-sm",children:[(0,o.jsx)("b",{children:"Note:"})," If you want to have uppar level access to the system for demonstration kindly contact adminstration of the system"]})]})})]})}var b={src:"/_next/static/media/login_bg_image.adb8dd01.svg",height:400,width:600},w=t(3838),v=t(5266);function N(){var e,s=(0,l.useState)(!1),t=s[0],d=s[1],u=(0,l.useState)(null),x=u[0],p=u[1],f=(0,l.useState)(null),y=f[0],N=f[1],k=(0,l.useState)(!1),C=k[0],E=k[1],_=(0,l.useState)(null),P=_[0],Z=_[1],I=(0,l.useState)(null),S=I[0],T=I[1],F=(0,h.useRouter)(),O=(0,g.y)(),L=(O.notifications,O.setNotifications),H=(0,c.useSession)(),M=(H.data,H.status);(0,l.useEffect)(function(){"authenticated"==M&&(L({placement:"bottomRight",message:"You are already logged in!",description:"",type:"warning"}),F.replace("/app"))},[M]);var R,Y=(e=(0,a.Z)(function(){var e;return(0,r.__generator)(this,function(s){switch(s.label){case 0:return E(!0),Z(null),e={email:x,password:y},[4,(0,c.signIn)("credentials",(0,i.Z)((0,n.Z)({},e),{redirect:!1}))];case 1:return T.apply(void 0,[s.sent()]),[2]}})}),function(){return e.apply(this,arguments)}),z=(R=(0,a.Z)(function(){var e;return(0,r.__generator)(this,function(s){switch(s.label){case 0:return[4,(0,c.getSession)()];case 1:return e=s.sent(),console.log(S),console.log({session:e}),[2]}})}),function(){return R.apply(this,arguments)});return(0,l.useEffect)(function(){console.log(S),S&&(S.error?(E(!1),Z("Email or Password Incorrect"==S.error?"Email or Password Incorrect":"Your credentials has been revoked"==S.error?"Your credentials has been revoked":"Some error occoured!"),L({placement:"bottomRight",message:"Login Failed",description:"Please type in correct credentials before you try to login!",type:"error"})):(L({placement:"bottomRight",message:"Login sucess",description:"You have been logged in to the Projectorate!!!",type:"sucess"}),F.replace("/app")),z())},[S]),(0,l.useEffect)(function(){t&&(Y(),d(!1))},[t]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(v.le,{}),(0,o.jsxs)("div",{className:"h-screen bg-primary",children:[(0,o.jsx)("div",{className:"secondry-section h-screen w-screen absolute z-0",children:(0,o.jsx)("div",{className:"absolute bottom-0 h-full w-full mx-[-15vw] sm:visible invisible",children:(0,o.jsx)(m(),{src:b,alt:"Projectorate welcome image",layout:"fill",objectFit:"contain"})})}),(0,o.jsx)("div",{className:"primary-section w-full h-full z-1 absolute flex sm:justify-end justify-center items-center lg:pr-40 md:pr-20 ",children:(0,o.jsx)(w.E.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.2},className:"w-full flex justify-end",children:(0,o.jsx)(j,{setIsClicked:d,setEmail:p,setPassword:N,loading:C,errorMessage:P})})})]})]})}}},function(e){e.O(0,[842,838,675,186,774,888,179],function(){return e(e.s=8020)}),_N_E=e.O()}]);