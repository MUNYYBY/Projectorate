"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[637],{3802:function(e,s,t){var a=t(5893);t(7294);var n=t(4198),r=function(e){var s=e.grantPermissionFor,t=e.children;return(0,n.Z)(s)?t:(0,a.jsx)(a.Fragment,{})};s.Z=r},4198:function(e,s,t){t.d(s,{Z:function(){return i}});var a=t(7294);t(1609);var n=[{user:"Super-admin",permissions:{manage_employees:!0,manage_projects:!0,manage_teams:!0,manage_tickets:!0,manage_logs:!0}},{user:"Admin",permissions:{manage_employees:!0,manage_projects:!0,manage_teams:!0,manage_tickets:!0,manage_logs:!0}},{user:"Operations Manager",permissions:{manage_employees:!0,manage_projects:!0,manage_teams:!0,manage_tickets:!0,manage_logs:!1}},{user:"Project Manager",permissions:{manage_employees:!1,manage_projects:!0,manage_teams:!0,manage_tickets:!0,manage_logs:!1}},{user:"Team Lead",permissions:{manage_employees:!1,manage_projects:!1,manage_teams:!0,manage_tickets:!0,manage_logs:!1}},{user:"Team Member",permissions:{manage_employees:!1,manage_projects:!1,manage_teams:!1,manage_tickets:!1,manage_logs:!1}},],r=t(3299),i=function(e){var s=(0,r.useSession)(),t=s.data,i=s.status,o=(0,a.useMemo)(function(){if(t&&t.user.role)return n.find(function(e){return e.user==t.user.role}).permissions[e]||!1},[e,t]);return"authenticated"==i&&o}},7693:function(e,s,t){t.d(s,{Z:function(){return l}});var a=t(5893),n=t(1649),r=t(471),i=t(7516),o=t(6477);t(4198);var c=t(3802);function l(e,s){var t=e.title,l=e.type,d=void 0===l?"home":l,m=e.icon,u=void 0===m?(0,a.jsx)(i.DaR,{size:30}):m,h=e.setIsEmployeePanel,p=void 0!==h&&h;return(0,a.jsx)("div",{className:"dashboard-header",children:(0,a.jsxs)("header",{className:"flex flex-row items-center justify-between border-b-2 border-b-gray-900 px-4 py-2",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center",children:[(0,a.jsx)("div",{className:"dashboard-header-icon mr-3",children:u}),(0,a.jsx)("h1",{className:"text-lg font-bol hidden sm:flex",children:void 0===t?"Home":t})]}),(0,a.jsxs)("div",{className:"flex flex-row items-center",children:["project"==d?(0,a.jsx)(c.Z,{grantPermissionFor:"manage_projects",children:(0,a.jsx)(o.Z,{placement:"bottom",title:"Create a new project in your company and add a workforce",mouseEnterDelay:.05,children:(0,a.jsxs)("button",{className:"bg-secondry py-1 px-3 rounded-md flex flex-row justify-center items-center",children:[(0,a.jsx)(n.gyF,{size:26}),(0,a.jsx)("p",{children:"Create Project"})]})})}):"","employees"==d?(0,a.jsx)(c.Z,{grantPermissionFor:"manage_employees",children:(0,a.jsx)(o.Z,{placement:"bottom",title:"A panel in which admin can manage all of their employees",mouseEnterDelay:.05,children:(0,a.jsxs)("button",{className:"bg-secondry py-1 px-3 rounded-md flex flex-row justify-center items-center",onClick:function(){return p(!0)},children:[(0,a.jsx)(n.gyF,{size:26}),(0,a.jsx)("p",{children:"Employees Management"})]})})}):"",(0,a.jsx)("div",{className:"help-icon px-2 sm:flex hidden",children:(0,a.jsx)(o.Z,{placement:"bottom",title:"Help",mouseEnterDelay:.05,children:(0,a.jsx)(r.tic,{size:28})})}),(0,a.jsx)("div",{className:"help-icon px-2 sm:flex hidden",children:(0,a.jsx)(o.Z,{placement:"bottom",title:"Inbox",mouseEnterDelay:.05,children:(0,a.jsx)(n.nj5,{size:30})})})]})]})})}},5905:function(e,s,t){t.d(s,{Z:function(){return n}});var a=t(5893);function n(e){var s=e.type,t=void 0===s?"projects":s,n=e.title,r=e.description,i=e.data,o=void 0===i?[]:i,c=e.setFilteredData,l=void 0===c?[]:c,d=function(e){var s=e.target.value;"projects"==t&&l(o.filter(function(e){return e.project_name.toLowerCase().includes(s.toLowerCase())})),"teams"==t?l(o.filter(function(e){return e.team_name.toLowerCase().includes(s.toLowerCase())})):"employees"===t&&l(o.filter(function(e){return e.first_name.toLowerCase().includes(s.toLowerCase())||e.last_name.toLowerCase().includes(s.toLowerCase())}))};return(0,a.jsxs)("div",{className:"Search-module",children:[(0,a.jsxs)("div",{className:"Search-contents",children:[(0,a.jsx)("h1",{className:"font-semibold text-xl opacity-80",children:void 0===n?"SEARCH":n}),(0,a.jsx)("p",{className:"text-sm opacity-60 mt-1",children:void 0===r?"Take a dive in to the project and its attributes. Find anything you are looking for in this project":r})]}),(0,a.jsxs)("div",{className:"Search-bar bg-gray-900 py-2 border-2 border-black rounded-md flex flex-row justify-between items-center px-4 mt-4",children:[(0,a.jsx)("input",{placeholder:"Search ".concat(t,"..."),type:"text",className:"bg-transparent md:w-4/6 sm:w-[8rem] w-[8rem] focus:outline-0",onChange:d}),(0,a.jsxs)("button",{className:"bg-primary py-2 px-3 rounded-md",children:[(0,a.jsxs)("p",{className:"sm:flex hidden",children:["Find in “",t,"”"]}),(0,a.jsx)("p",{className:"sm:hidden flex",children:"Search"})]})]})]})}t(7294)},8046:function(e,s,t){t.r(s),t.d(s,{default:function(){return u}});var a=t(7568),n=t(655),r=t(5893),i=t(7294),o=t(3299),c=t(1163),l=t(4514),d=t(1613),m=t(4670);function u(e){e.children;var s=(0,o.useSession)(),t=s.data,u=s.status,h=(0,i.useState)(!1),p=(h[0],h[1]),x=(0,l.F)(),v=x.userData,j=x.fetchUserInfo,g=(0,d.y)().setNotifications,f=(0,c.useRouter)();function y(){return(y=(0,a.Z)(function(e){return(0,n.__generator)(this,function(s){switch(s.label){case 0:return[4,j(e)];case 1:return s.sent(),[2]}})})).apply(this,arguments)}return(0,i.useEffect)(function(){v&&(console.log("App fetch: ",v),v.data?p(!0):g({placement:"bottomRight",message:"Info",description:"Something went wrong!",type:"error"}))},[v]),(0,i.useEffect)(function(){console.log("This is app component 1"),console.log("authenticated"==u),console.log(!v),"authenticated"==u&&!v&&(function(e){y.apply(this,arguments)}(t.user.id),f.replace("/app/u"))},[u]),(0,r.jsx)("div",{className:"App",children:(0,r.jsx)(m.Z,{})})}},9637:function(e,s,t){t.r(s),t.d(s,{default:function(){return h}});var a=t(7568),n=t(655),r=t(5893),i=t(7294);t(581),t(9076);var o=t(5905),c=t(8915),l=t(7693),d=t(3588);t(9879);var m=t(4514);t(8046);var u=t(5636);function h(){var e=(0,i.useState)(null),s=e[0],t=e[1],h=(0,i.useState)(!0),p=h[0],x=h[1];function v(){return(v=(0,a.Z)(function(){var e,s,a,r,i;return(0,n.__generator)(this,function(n){switch(n.label){case 0:return x(!0),[4,(0,u.Ko)()];case 1:return e=n.sent(),[4,(0,u.I3)()];case 2:return s=n.sent(),[4,(0,u.nU)()];case 3:return a=n.sent(),[4,(0,u.uL)()];case 4:return t({all_employees_count:n.sent().count,senior_employees_count:s.count,associate_employees_count:e.count,intern_employees_count:a.count}),x(!1),[2]}})})).apply(this,arguments)}return(0,m.F)().userData,(0,i.useEffect)(function(){!function(){return v.apply(this,arguments)}()},[]),(0,r.jsx)(c.z,{children:(0,r.jsx)("div",{children:(0,r.jsxs)("div",{children:[(0,r.jsx)(l.Z,{}),(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)(o.Z,{title:"SEARCH",description:"Take a dive in to the data and its attributes. Find anything you are looking for!"})}),(0,r.jsx)(d.Z,{color:"bg-gray-900",width:"w-full",opacity:"opacity-1"}),(0,r.jsxs)("div",{className:"flex flex-col m-6 mt-10",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("h1",{className:"font-bold text-2xl",children:"Projectorate Statistics"}),(0,r.jsx)("p",{className:"opacity-50",children:"A brief analytics of the system"})]}),(0,r.jsxs)("div",{className:"stats shadow mt-8 bg-gray-900 rounded-lg h-40 ".concat(p?"bg-opacity-10":"bg-opacity-100"),children:[(0,r.jsxs)("div",{className:"stat",children:[(0,r.jsx)("div",{className:"stat-figure text-pOrange",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block w-8 h-8 stroke-current",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsx)("div",{className:"stat-title",children:"All Employees"}),(0,r.jsx)("div",{className:"stat-value",children:null==s?void 0:s.all_employees_count}),(0,r.jsx)("div",{className:"stat-desc",children:"March 1st - present"})]}),(0,r.jsxs)("div",{className:"stat",children:[(0,r.jsx)("div",{className:"stat-figure text-pOrange",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block w-8 h-8 stroke-current",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),(0,r.jsx)("div",{className:"stat-title",children:"Senior"}),(0,r.jsx)("div",{className:"stat-value",children:null==s?void 0:s.senior_employees_count}),(0,r.jsx)("div",{className:"stat-desc",children:"March 1st - present"})]}),(0,r.jsxs)("div",{className:"stat",children:[(0,r.jsx)("div",{className:"stat-figure text-pOrange",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block w-8 h-8 stroke-current",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})})}),(0,r.jsx)("div",{className:"stat-title",children:"Associate"}),(0,r.jsx)("div",{className:"stat-value",children:null==s?void 0:s.associate_employees_count}),(0,r.jsx)("div",{className:"stat-desc",children:"March 1st - present"})]})]}),(0,r.jsxs)("div",{className:"stats shadow mt-8 bg-gray-900 rounded-lg h-40 ".concat(p?"bg-opacity-10":"bg-opacity-100"),children:[(0,r.jsxs)("div",{className:"stat",children:[(0,r.jsx)("div",{className:"stat-figure text-pOrange",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block w-8 h-8 stroke-current",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsx)("div",{className:"stat-title",children:"All Employees"}),(0,r.jsx)("div",{className:"stat-value",children:null==s?void 0:s.all_employees_count}),(0,r.jsx)("div",{className:"stat-desc",children:"March 1st - present"})]}),(0,r.jsxs)("div",{className:"stat",children:[(0,r.jsx)("div",{className:"stat-figure text-pOrange",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block w-8 h-8 stroke-current",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),(0,r.jsx)("div",{className:"stat-title",children:"Senior"}),(0,r.jsx)("div",{className:"stat-value",children:null==s?void 0:s.senior_employees_count}),(0,r.jsx)("div",{className:"stat-desc",children:"March 1st - present"})]}),(0,r.jsxs)("div",{className:"stat",children:[(0,r.jsx)("div",{className:"stat-figure text-pOrange",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block w-8 h-8 stroke-current",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})})}),(0,r.jsx)("div",{className:"stat-title",children:"Associate"}),(0,r.jsx)("div",{className:"stat-value",children:null==s?void 0:s.associate_employees_count}),(0,r.jsx)("div",{className:"stat-desc",children:"March 1st - present"})]})]})]})]})})})}}}]);